<!doctype html>
<html>
    <head>
        
    </head>
    <body>
        
        <script>
            function previewFile(id,file,im)
            {
                var preview = document.getElementById(im);
                //var file    = document.querySelector('input[type=file]').files[0];
                var file = document.getElementById(file).files[0];
                //alert(file);
                console.log(file);
                var reader  = new FileReader();
                //reader listener
                let ch="";
                reader.addEventListener
                (
                    "load", function ()
                    {
                        preview.src = reader.result;
                        console.log(preview.src);
                        ch=preview.src;
                        document.getElementById(id).value ="<img src='"+ch+"' />";
                    }, false
                );
                if (file)
                {
                    reader.readAsDataURL(file);
                    //alert(file.name);
                    //console.log(file);
                    //alert(preview.src);
                }
                //alert(ch);
                //console.log(ch);
            }

        </script>
        <br>
        Choose the file<input type="file" id="habib 1" value="choose the image" placeholder="Choose the image" onchange='previewFile("t","habib 1","im1")'>
        <img src="" height="200" id="im1" alt="AperÃ§u de l image..."> 
        <textarea id="t"></textarea>
        <br>
        <!-- -->
        <div onmousemove='change('image_s_id')' id='image_s_id' ondragstart='dragStart(event)' ondragend='dragEnd(event)' draggable='true'>
            image_s : <input type='file' draggable='true' class='the_field' name='image_s' id='image_s' placeholder='insert image s' accept='.jpg, .png, .jpeg, .gif, .bmp, .tif' onchange='previewFile("image_s_text", "image_s" ,"image_s_img" )' /><img src='' height='200' id='image_s_img' alt='insert picture...'/><textarea id='image_s_text'></textarea></div>
        </div>
    </body>
</html>